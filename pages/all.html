<style>
h3 { 
    color:#0699fa;
    margin:0px;
}

hr {
    background: #0699fa;
    border: 0; height: 1px; 
    margin-top:8px;
    margin-bottom:8px;
}

table {
    width:auto
}

table th {
    text-align:left;
    border: 0px solid #ddd;
    padding:6px 13px;
}

table td {
    text-align:left;
    border: 0px solid #ddd;
    padding:6px 13px;
}

.box {
    width:100%;
    background-color:rgba(68,179,226,0.1);
    margin-right:20px;
    margin-bottom:20px;
}

.inner {
    padding:20px;
    color:#333;
    display:none;
}

.box-title {
    background-color:rgba(68,179,226,1.0);
    padding:10px;
    color:#fff;
    cursor:pointer;
}

.icon-expand {
    width:12px; 
    margin-right:10px;
    margin-top:2px;
}
    
</style>

<div class="box">
    <div class="box-title"><img class="icon-expand" src="img/expand.png"><b>HOUSEHOLD ELECTRICITY MODEL</b></div>
    <div class="inner" style="display:block">
        View:
        <button id="pan-left"><</button>
        <button id="pan-right">></button>
        <button id="zoom-out">-</button>
        <button id="zoom-in">+</button>
        <button id="reset">reset</button>
        <button class="viewmode" view="">Electricity Balance</button>
        
        <div id="placeholder_bound" style="width:100%">
            <div id="placeholder"></div>
        </div>
    </div>
</div>

<div class="box">
    <div class="box-title"><img class="icon-expand" src="img/expand.png"><b>SUPPLY<span style="float:right" class="modeloutput" key="total_supply" type="10y"></span></b></div>
    <div class="inner">

        <table class="table" style="width:100%">
        <tr>
            <td>Onshore wind</td>
            <td>
              <input class="modelinput" key="onshorewind_capacity" type="text" style="width:70px" value="" autocomplete="off"/>
              <span style="font-size:12px" class="modeloutput" key="total_onshore_wind_supply" type="10y"></span>
            </td>
            
            <td>Offshore wind</td>
            <td><input class="modelinput" key="offshorewind_capacity" type="text" style="width:70px" value="" autocomplete="off"/>
              <span style="font-size:12px" class="modeloutput" key="total_offshore_wind_supply" type="10y"></span>
            </td>
            
            <td>Solar</td>
            <td><input class="modelinput" key="solarpv_capacity" type="text" style="width:70px" value="" autocomplete="off"/>
              <span style="font-size:12px" class="modeloutput" key="total_solar_supply" type="10y"></span>
            </td>
        </tr>
        <tr>
            <td>Hydro</td>
            <td><input class="modelinput" key="hydro_capacity" type="text" style="width:70px" value="" autocomplete="off"/>
              <span style="font-size:12px" class="modeloutput" key="total_hydro_supply" type="10y"></span>
            </td>
            
            <td>Wave</td>
            <td><input class="modelinput" key="wave_capacity" type="text" style="width:70px" value="" autocomplete="off"/>
              <span style="font-size:12px" class="modeloutput" key="total_wave_supply" type="10y"></span>
            </td>
            
            <td>Tidal</td>
            <td><input class="modelinput" key="tidal_capacity" type="text" style="width:70px" value="" autocomplete="off"/>
              <span style="font-size:12px" class="modeloutput" key="total_tidal_supply" type="10y"></span>
            </td>
        </tr>
        <tr>
            <td>Nuclear</td>
            <td><input class="modelinput" key="nuclear_capacity" type="text" style="width:70px" value="" autocomplete="off"/>
              <span style="font-size:12px" class="modeloutput" key="total_nuclear_supply" type="10y"></span>
            </td>
            
            <td></td>
            <td></td>
            
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>Grid losses<br>(default 5%)</td>
            <td><input class="modelinput" key="grid_loss_prc" type="text" style="width:70px" value="" autocomplete="off"/>
            </td>
            
            <td></td>
            <td></td>
            
            <td></td>
            <td></td>
        </tr>
        </table>
    </div>
</div>

<div class="box">
    <div class="box-title"><img class="icon-expand" src="img/expand.png"><b>LIGHTS, APPLIANCES AND COOKING<span style="float:right" class="modeloutput" key="total_LAC_elec_demand" type="10y"></span></b></div>
    <div class="inner">
        <table class="table" style="width:50%; float:left">
        <tr>
            <td>Number of lights</td>
            <td><input class="modelinput" key="number_of_lights" type="text" style="width:60px" value="" autocomplete="off"/></td>
        </tr><tr>
            <td>Average light power</td>
            <td><input class="modelinput" key="lights_power" type="text" style="width:60px" value="" autocomplete="off"/> Watts</td>
        </tr><tr>
            <td>Internet router + other always on<br>devices, appliances, stand-by</td>
            <td><input class="modelinput" key="alwayson" type="text" style="width:60px" value="" autocomplete="off"/> Watts</td>
        </tr><tr>
            <td>Fridge/Freezer annual consumption</td>
            <td><input class="modelinput" key="fridgefreezer" type="text" style="width:60px" value="" autocomplete="off"/> kWh</td>
        </tr><tr>
            <td>Washing machine annual consumption</td>
            <td><input class="modelinput" key="washingmachine" type="text" style="width:60px" value="" autocomplete="off"/> kWh</td>
        </tr><tr>
            <td>Cooking annual consumption<br>(1.1 kWh x 365)</td>
            <td><input class="modelinput" key="cooking" type="text" style="width:60px" value="" autocomplete="off"/> kWh</td>
        </tr><tr>
            <td>Laptops and computing<br>(2 x 0.29 kWh x 365)</td>
            <td><input class="modelinput" key="computing" type="text" style="width:60px" value="" autocomplete="off"/> kWh</td>
        </tr>
        </table>
        <div style="width:50%; float:left;">
            <p>Lighting demand: <span class="modeloutput" key="total_lighting_demand" type="10y"></span> 
            (On time: <span class="modeloutput" key="lighting_utilisation" dp=0 scale=1 units="%"></span>)</p>
            <p>Lighting demand is based on both day light levels and a time of day based profile</p>
            <p>Cooking demand implements a time of day based profile, with demand peaks for breakfast, lunch and evening meal</p>
        </div>
        <div style="clear:both"></div>
    </div>
</div>

<div class="box">
    <div class="box-title"><img class="icon-expand" src="img/expand.png"><b>HOT WATER DEMAND<span style="float:right" class="modeloutput" key="total_DHW_heat_demand" type="10y"></span></b></div>
    <div class="inner">

<table class="table" style="width:50%; float:left">
<tr>
    <td>Number of showers per day<br><span style="font-size:14px">(Based on 7.5 minute 9 kW shower)</span></td>
    <td><input class="modelinput" key="number_showers_per_day" type="text" style="width:100px" value="" autocomplete="off"/></td>
</tr>
<tr>
    <td>Number of baths per day<br><span style="font-size:14px">(Based on 20% higher water use than shower)</span></td>
    <td><input class="modelinput" key="number_baths_per_day" type="text" style="width:100px" value="" autocomplete="off"/></td>
</tr>
<tr>
    <td>Number of kitchen sink bowl fills per day<br><span style="font-size:14px">(Based on 70% fill of typical 9.5L bowl)</span></td>
    <td><input class="modelinput" key="number_kitchen_sink" type="text" style="width:100px" value="" autocomplete="off"/></td>
</tr>
<tr>
    <td>Number of bathroom sink fills per day</td>
    <td><input class="modelinput" key="number_bathroom_sink" type="text" style="width:100px" value="" autocomplete="off"/></td>
</tr>
</table>
<div style="float:left;">
    <table style="font-size:14px">
    <tr><td>Hot water demand</td><td><span class="modeloutput" key="total_DHW_heat_demand" type="10y"></span></td></tr>
    </table>
</div>
<div style="clear:both"></div>

</div></div>
<div class="box">
    <div class="box-title"><img class="icon-expand" src="img/expand.png"><b>SPACE HEATING DEMAND<span style="float:right" class="modeloutput" key="total_final_space_heating_demand" type="10y"></span></b></div>
    <div class="inner">

<table class="table" style="width:50%; float:left">
<tr>
    <td>Total Floor Area</td>
    <td>
    <input class="modelinput" key="total_floor_area" type="text" style="width:100px" value="" autocomplete="off"/> m2
    </td>
    <td></td>
    <td></td>
</tr>
<tr>
    <td>Floor insulation</td>
    <td>
    <select class="modelinput" key="floor_ins_thickness" autocomplete="off">
        <option value=0.0 selected="selected">Uninsulated</option>
        <option value=0.05>50mm insulation</option>
        <option value=0.1>100mm insulation</option>
        <option value=0.2>200mm insulation</option>
        <option value=0.3>Superinsulated 300mm</option>
    </select>
    </td>
</tr>
<tr>
    <td>Wall insulation</td>
    <td>
    <select class="modelinput" key="wall_ins_thickness" autocomplete="off">
        <option value=0.0 selected="selected">Uninsulated</option>
        <option value=0.05>50mm insulation</option>
        <option value=0.1>100mm insulation</option>
        <option value=0.2>200mm insulation</option>
        <option value=0.3>Superinsulated 300mm</option>
    </select>
    </td>
</tr>
<tr>
    <td>Loft insulation</td>
    <td>
    <select class="modelinput" key="loft_ins_thickness" autocomplete="off">
        <option value=0.0 selected="selected">Uninsulated</option>
        <option value=0.05>50mm insulation</option>
        <option value=0.1>100mm insulation</option>
        <option value=0.2>200mm insulation</option>
        <option value=0.3>Superinsulated 300mm</option>
    </select>
    </td>
</tr>
<tr>
    <td>Window type</td>
    <td>
    <select class="modelinput" key="window_type" autocomplete="off">
        <option value=single>Single glazing</option>
        <option value=double selected="selected">Double glazing</option>
        <option value=triple>Triple glazing</option>
    </select>
    </td>
</tr>
<tr>
    <td>Glazing extent<br><span style="font-size:14px">(% of total wall area)</span></td>
    <td>
    <select class="modelinput" key="glazing_extent" autocomplete="off">
        <option value=0.1>10%</option>
        <option value=0.2>20%</option>
        <option value=0.3>30%</option>
        <option value=0.4>40%</option>
        <option value=0.5>50%</option>
    </select>
    </td>
</tr>
<tr>
    <td>Infiltration & Ventilation</td>
    <td>
    <input class="modelinput" key="air_change_per_hour" type="text" style="width:100px" value="" autocomplete="off"/> ACH
    </td>
</tr>
<tr>
    <td>Target internal temperature (C)</td>
    <td><input class="modelinput" key="target_internal_temperature" type="text" style="width:100px" value="" autocomplete="off"/></td>
</tr>
<tr>
    <td>Night time set back (C)</td>
    <td><input class="modelinput" key="night_time_setback" type="text" style="width:100px" value="" autocomplete="off"/></td>
</tr>

</table>
<div style="float:left;">
    <table style="font-size:14px">
    <tr><td>Fabric heat loss</td><td><span class="modeloutput" key="fabric_WK" dp=0 scale=1 units="W/K"></span></td></tr>
    <tr><td>Infiltration heat loss</td><td><span class="modeloutput" key="infiltration_WK" dp=0 scale=1 units="W/K"></span></td></tr>
    <tr><td>Total fabric efficiency</td><td><span class="modeloutput" key="total_WK" dp=0 scale=1 units="W/K"></span></td></tr>
    <tr><td></td><td></td></tr>
    <tr><td>Total space heating demand</td><td><span class="modeloutput" key="total_space_heating_demand_before_gains" type="10y"></span></td></tr>
    <tr><td>- Used metabolic gains</td><td><span class="modeloutput" key="used_metabolic_gains" type="10y"></span> of <span class="modeloutput" key="total_metabolic_gains" type="10y"></span></td></tr>
    <tr><td>- Used internal gains</td><td><span class="modeloutput" key="used_internal_gains" type="10y"></span> of <span class="modeloutput" key="total_internal_gains" type="10y"></span></td></tr>
    <tr><td>- Used solar gains</td><td><span class="modeloutput" key="used_solar_gains" type="10y"></span> of <span class="modeloutput" key="total_solar_gains" type="10y"></span></td></tr>
    
    <tr style="border-top:1px solid #aaa"><td>Total final heat demand</td><td><span class="modeloutput" key="total_final_space_heating_demand" type="10y"></span></td></tr>
    <tr><td></td><td></td></tr>
    <tr><td>Space heating heat demand<br>by floor area</td><td><span class="modeloutput" key="spaceheatkwhm2" dp=0 scale=1 units="kWh/m2/y"></span></td></tr>
    </table>
</div>
<div style="clear:both"></div>
</div></div>

<div class="box">
    <div class="box-title">
        <img class="icon-expand" src="img/expand.png"><b>HEATING SYSTEM</b>
    </div>
    <div class="inner">
        <p>Total heat demand: <span class="modeloutput" key="total_heating_demand" type="10y"></span></p>
        <table>
        <tr><th>Type</th><td></td><th>Efficiency</th><th>Delivered Heat</th><th>Input Electric/fuel</th><th>Heatstore</th></tr>
        <tr>
            <td>Heatpumps</td>
            <td>COP</td>
            <td><input class="modelinput" key="heatpump_COP" type="text" style="width:40px" value="" autocomplete="off"/></td>
            <td><span class="modeloutput" key="total_heatpump_heat_demand" type="10y"></span></td>
            <td><span class="modeloutput" key="total_heatpump_elec_demand" type="10y"></span></td>
            <td><input class="modelinput" key="heatstore_capacity" type="text" style="width:30px" value="" autocomplete="off"/> <span style="font-size:14px">kWh</span></td>
            <td><span class="modeloutput" key="heatstore_cycles" dp=0 scale=1 units="cycles"></span></td>
        </tr>
        </table>
        <div style="clear:both"></div>
    </div>
</div>


<div class="box">
    <div class="box-title"><img class="icon-expand" src="img/expand.png"><b>TRANSPORT DEMAND<span style="float:right" class="modeloutput" key="total_transport_demand" type="10y"></span></b></div>
    <div class="inner">
        
        <table class="table" style="width:50%; float:left">
            <tr>
                <td>Electric car miles driven:</td>
                <td><input class="modelinput" key="EV_annual_miles" type="text" style="width:60px" value="" autocomplete="off"/></td>
                <td>Performance (miles/kwh):</td>
                <td><input class="modelinput" key="EV_miles_per_kwh" type="text" style="width:60px" value="" autocomplete="off"/></td>
            </tr><tr>
                <td>Battery capacity  (kWh):</td>
                <td><input class="modelinput" key="EV_battery_capacity" type="text" style="width:60px" value="" autocomplete="off"/></td>
                <td>Charge type:</td>
                <td>
                <select class="modelinput" key="charge_type" autocomplete="off" style="width:80px">
                    <option value="constantcharge">Constant charge</option>
                    <option value="nightcharge">Night charge only</option>
                    <option value="morenight">More in the night</option>
                    <option value="moreday">More in the day</option>
                    <option value="smartcharge">Smart charge</option>
                </select>
                </td>
            </tr>
            <tr>
                <td>Electric bike:</td>
                <td><input class="modelinput" key="ebike_annual_miles" type="text" style="width:60px" value="" autocomplete="off"/></td>
                <td>Performance (miles/kwh):</td>
                <td><input class="modelinput" key="ebike_miles_per_kwh" type="text" style="width:60px" value="" autocomplete="off"/></td>
            </tr>
        </table>
        
        <div style="float:left; margin-left:20px">
            <table>
            <tr><td>Electric vehicle demand</td><td><span class="modeloutput" key="total_EV_demand" type="10y"></span></td></tr>
            <tr><td>Electric bike demand</td><td><span class="modeloutput" key="total_ebike_demand" type="10y"></span></td></tr>
            </table>
        </div>
        <div style="clear:both"></div>
    </div>
</div>
<div class="box">
    <div class="box-title"><img class="icon-expand" src="img/expand.png"><b>LITHIUM ION STORAGE<span style="float:right" class="modeloutput" key="total_liion_charge" type="10y"></span></b></div>
    <div class="inner">
<table class="table" style="width:50%; float:left">
<tr>
    <td>Lithium ion store capacity (kWh):</td>
    <td><input class="modelinput" key="liion_capacity" type="text" style="width:100px" value="" autocomplete="off"/></td>
</tr>
<tr>
    <td>Lithium ion store start (kWh):</td>
    <td><input class="modelinput" key="liion_SOC_start" type="text" style="width:100px" value="" autocomplete="off"/></td>
</tr>
</table>
<div style="float:left;">
    <p>Total charge: <span class="modeloutput" key="total_liion_charge" type="10y"></span></p>
    <p>Total discharge: <span class="modeloutput" key="total_liion_discharge" type="10y"></span></p>
    <p>Final SOC: <span class="modeloutput" key="liion_SOC" dp=1 scale=1 units="kWh"></span></p>
</div>
<div style="clear:both"></div>

</div></div>

<div class="box">
    <div class="box-title">
        <img class="icon-expand" src="img/expand.png"><b>FINAL SUPPLY DEMAND MATCHING
        <span style="float:right" class="modeloutput" key="prc_demand_supplied_all" dp=3 scale=1 units="%"></span>
        </b>
    </div>
    <div class="inner" style="display:block">

        <div id="stacks_bound" style="width:450; height:530; float:left;">
            <canvas id="stacks" width="450" height="530"></canvas>
        </div>
        
        <div style="float:left; width:35%;">
            <p style="font-size:18px">Total supply: <span class="modeloutput" key="total_supply" type="10y"></span></p>
            <p style="font-size:18px">Total demand: <span class="modeloutput" key="total_demand" type="10y"></span></p>
            <p style="font-size:18px">Primary energy factor: <span class="modeloutput" key="primary_energy_factor" dp=2 scale=1 units=""></span></p>
            <p style="font-size:18px">Exess generation: <span class="modeloutput" key="exess_generation" type="10y"></span></p>
            <p style="font-size:18px">Unmet demand: <span class="modeloutput" key="total_unmet_demand" type="10y"></span></p>
        </div>
        
        <div style="clear:both"></div>
    </div>
</div>

<div class="box">
    <div class="box-title">
        <img class="icon-expand" src="img/expand.png"><b>SCALED UP TO VILLAGE, TOWN, CITY or COUNTRY
        </b>
    </div>
    <div class="inner">
        
        <table><tr>
        <td>Number of households:</td>
        <td><input class="modelinput" key="number_of_households" type="text" style="width:100px" value="" autocomplete="off"/></td>
        </tr></table>
        <br>
        <table>
            <tr><th>Supply</th><th width="100px"></th><th></th><th width="100px"></th></tr>
            <tr>
                <td>Onshore Wind</td><td><span class="modeloutput" key="scaled_onshorewind_capacity" type="auto" baseunit="kW"></td>
                <td></td>
            </tr>
            <tr>
                <td>Offshore Wind</td><td><span class="modeloutput" key="scaled_offshorewind_capacity" type="auto" baseunit="kW"></td>
                <td></td>
            </tr>
            <tr>
                <td>Solar PV</td><td><span class="modeloutput" key="scaled_solarpv_capacity" type="auto" baseunit="kW"></td>
                <td></td>
            </tr>
            <tr>
                <td>Hydro</td><td><span class="modeloutput" key="scaled_hydro_capacity" type="auto" baseunit="kW"></td>
                <td></td>
            </tr>
            
            <tr>
                <td>Wave</td><td><span class="modeloutput" key="scaled_wave_capacity" type="auto" baseunit="kW"></td>
                <td></td><td></td>
            </tr>
            <tr>
                <td>Tidal</td><td><span class="modeloutput" key="scaled_tidal_capacity" type="auto" baseunit="kW"></td>
                <th></th>
            </tr>
            <tr>
                <td>Nuclear</td><td><span class="modeloutput" key="scaled_nuclear_capacity" type="auto" baseunit="kW"></td>
                <td></td>
            </tr>
            <tr>
                <th>Demand</th><th></th>
                
            </tr>
            <tr> 
                <td>Lights, Appliances & Cooking</td><td><span class="modeloutput" key="scaled_total_LAC_elec_demand" type="auto" baseunit="kWh"></td>
                <th>Other</th><th></th>
            </tr>
            <tr>
                <td>Electricity for heatpumps</td><td><span class="modeloutput" key="scaled_total_heatpump_elec_demand" type="auto" baseunit="kWh"></td>
                <td></td>
            </tr>
            <tr>
                <td>Electric Vehicles</td><td><span class="modeloutput" key="scaled_total_EV_demand" type="auto" baseunit="kWh"></td>
            </tr>
            <tr>
                <td>Electricity for export</td><td><span class="modeloutput" key="scaled_exess_generation" type="auto" baseunit="kWh"></td>
            </tr>
        </table>
        
        <div style="clear:both"></div>
    </div>
</div>
